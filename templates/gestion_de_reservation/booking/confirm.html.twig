{% extends 'Gestion_Evennement/base.html.twig' %}

{% block title %}Booking Confirmation - MeetNTrip{% endblock %}

{% block body %}
<div class="container py-5">
    <div class="card shadow-lg">
        <div class="card-header bg-success text-white">
            <h2 class="mb-0"><i class="fas fa-check-circle me-2"></i>Booking Confirmed</h2>
        </div>
        <div class="card-body">
            <div class="row">
                <div class="col-md-6">
                    <h4 class="text-primary">Event Details</h4>
                    <p><strong>Event Name:</strong> {{ booking.nameEvement }}</p>
                    <p><strong>Dates:</strong> {{ booking.startEvement|date('M d, Y') }} - {{ booking.endEvement|date('M d, Y') }}</p>
                    <p><strong>Guests:</strong> {{ booking.numberofInvites }}</p>
                    <p><strong>Location:</strong> {{ booking.evenement.lieuEvenement }}</p>
                </div>
                <div class="col-md-6">
                    <h4 class="text-primary">Travel Arrangements</h4>
                    <div class="mb-3">
                        <h5><i class="fas fa-plane"></i> Flight Details</h5>
                        <p>Airline: {{ booking.airlines }}</p>
                        <p>Departure: {{ booking.departureTime|date('Y-m-d H:i') }}</p>
                        <p>Return: {{ booking.backTime|date('Y-m-d H:i') }}</p>
                        <p>Price: ${{ booking.flightPrice|number_format(2) }}</p>
                    </div>
                    
                    <div class="mb-3">
                        <h5><i class="fas fa-hotel"></i> Hotel Details</h5>
                        <p>Name: {{ booking.hotelName }}</p>
                        <p>Location: {{ booking.hotelLocation }}</p>
                        <p>Price/Night: ${{ booking.hotelPricePerNight|number_format(2) }}</p>
                    </div>
                </div>
            </div>
            <div class="text-center mt-4">
                <h3 class="text-primary">Total Price: ${{ booking.priceTotal|number_format(2) }}</h3>
                <a href="{{ path('app_bookings_list') }}" class="btn btn-primary btn-lg mt-3">
                    <i class="fas fa-list me-2"></i>View All Bookings
                </a>
            </div>
        </div>
    </div>
</div>
{% if booking.flight %}
<p>Flight: {{ booking.flight.airline }} ({{ booking.flight.departureTime|date('Y-m-d H:i') }} - {{ booking.flight.backTime|date('Y-m-d H:i') }})</p>
{% endif %}

{% if booking.hotel %}
<p>Hotel: {{ booking.hotel.name }} in {{ booking.hotel.city }} (Rating: {{ booking.hotel.rating }}/5)</p>
{% endif %}

{% if booking.conferenceLocation %}
<p>Venue: {{ booking.conferenceLocation.name }} (Capacity: {{ booking.conferenceLocation.capacity }})</p>
{% endif %}
{% endblock %}